{{<layout}}
{{$pageTitle}}{{#__}}sorted-activities.pageTitle{{/__}}{{/pageTitle}}
{{$applicationContent}}

<h2 class="heading-xlarge">{{#__}}sorted-activities.heading{{/__}}</h2>

<div class="app-menu inner-block gutter-top">
  <div class="content">
    <nav>
      <ul>
        <li class="inactive" data-test="activity-{{activity}}">
          <a href="{{basePath}}/{{accountId}}/activities/unsorted" class="option">
            {{#__}}tabs.unsorted{{/__}}
          </a>
        </li>
        <li class="active" data-test="activity-{{activity}}">
          <span class="option">{{#__}}tabs.sorted{{/__}}</span>
        </li>
      </ul>
    </nav>
  </div>
</div>

<h3 class="heading-medium">{{#__}}sorted-activities.activities-heading{{/__}}</h3>
<p class="text">{{#__}}sorted-activities.activities-text-1{{/__}}</p>
<p class="text">{{#__}}sorted-activities.activities-text-2{{/__}}</p>
<p class="text">

  <a href="{{basePath}}/{{accountId}}{{action.link}}" data-test="action-on-{{action.mode}}">
    {{action.label}}
  </a>
</p>

<div class="menu">

  <section data-test="category-READY" id="category-READY">
    <h3 class="heading-small category-heading" data-test="category">{{#__}}category.READY.title{{/__}}</h3>
    <span data-test="details">
    {{^perCategory.READY.hasActivities}}
      <p data-test="empty-message">{{#__}}sorted-activities.category-empty{{/__}}</p>
    {{/perCategory.READY.hasActivities}}
      <ul>
        {{#perCategory.READY.activities}}
          <li class="menu-container READY" data-test="activity-{{activity}}">
            <span class="menu-item not-selectable">
              <p>
                {{title}}
              </p>
              <a href="{{basePath}}/{{accountId}}/activities/{{activity}}?from={{action.mode}}"
                 class="button-secondary"
                 data-test="details-button">
                {{#__}}sorted-activities.button-details{{/__}}
              </a>
              {{#isResortMode}}
                <a href="{{basePath}}/{{accountId}}/activities/{{activity}}/categorise" class="resort-button"
                   data-test="activity-{{activity}}-move">
                  Move
                </a>
              {{/isResortMode}}
            </span>
          </li>
        {{/perCategory.READY.activities}}
      </ul>
    </span>
  </section>

  <section data-test="category-HELP" id="category-HELP">
    <h3 class="heading-small category-heading" data-test="category">{{#__}}category.HELP.title{{/__}}</h3>
    <span data-test="details">
    {{^perCategory.HELP.hasActivities}}
      <p data-test="empty-message">{{#__}}sorted-activities.category-empty{{/__}}</p>
    {{/perCategory.HELP.hasActivities}}
      <ul>
        {{#perCategory.HELP.activities}}
          <li class="menu-container HELP" data-test="activity-{{activity}}">
            <span class="menu-item not-selectable">
              <p>
                {{title}}
              </p>
              <a href="{{basePath}}/{{accountId}}/activities/{{activity}}?from={{action.mode}}"
                 class="button-secondary"
                 data-test="details-button">
                {{#__}}sorted-activities.button-details{{/__}}
              </a>
              {{#isResortMode}}
                <a href="{{basePath}}/{{accountId}}/activities/{{activity}}/categorise" class="resort-button"
                   data-test="activity-{{activity}}-move">
                  {{#__}}sorted-activities.button-move{{/__}}
                </a>
              {{/isResortMode}}
            </span>
          </li>
        {{/perCategory.HELP.activities}}
      </ul>
    </span>
  </section>

  <section data-test="category-DOING" id="category-DOING">
    <h3 class="heading-small category-heading" data-test="category">{{#__}}category.DOING.title{{/__}}</h3>
    {{^perCategory.DOING.hasActivities}}
      <p data-test="empty-message">{{#__}}sorted-activities.category-empty{{/__}}</p>
    {{/perCategory.DOING.hasActivities}}
    {{#perCategory.DOING}}
      {{#hasActivities}}
      <details {{#isExpanded}}open{{/isExpanded}}>
        <summary><span data-test="show-hide-text" class="summary">{{categoryIntroduction}}</span></summary>
        <div class="panel panel-border-narrow">
          <ul>
            {{#activities}}
              <li class="menu-container DOING" data-test="activity-{{activity}}">
              <span class="menu-item not-selectable">
                <p>{{title}}</p>
                <a href="{{basePath}}/{{accountId}}/activities/{{activity}}?from={{action.mode}}"
                   class="button-secondary"
                   data-test="details-button">
                  {{#__}}sorted-activities.button-details{{/__}}
                </a>
                {{#isResortMode}}
                  <a href="{{basePath}}/{{accountId}}/activities/{{activity}}/categorise" class="resort-button"
                     data-test="activity-{{activity}}-move">
                    Move
                  </a>
                {{/isResortMode}}
              </span>
              </li>
            {{/activities}}
          </ul>
        </div>
      </details>
      {{/hasActivities}}
    {{/perCategory.DOING}}
  </section>

  <section data-test="category-NOT-WORKED" id="category-NOT-WORKED">
    <h3 class="heading-small category-heading" data-test="category">{{#__}}category.NOT-WORKED.title{{/__}}</h3>
    {{^perCategory.NOTWORKED.hasActivities}}
      <p data-test="empty-message">{{#__}}sorted-activities.category-empty{{/__}}</p>
    {{/perCategory.NOTWORKED.hasActivities}}
    {{#perCategory.NOTWORKED}}
      {{#hasActivities}}
        <details {{#isExpanded}}open{{/isExpanded}}>
          <summary><span data-test="show-hide-text" class="summary">{{categoryIntroduction}}</span></summary>
          <div class="panel panel-border-narrow">
            <ul>
              {{#activities}}
                <li class="menu-container NOTWORKED" data-test="activity-{{activity}}">
              <span class="menu-item not-selectable">
                <p>{{title}}</p>
                <a href="{{basePath}}/{{accountId}}/activities/{{activity}}?from={{action.mode}}"
                   class="button-secondary"
                   data-test="details-button">
                  {{#__}}sorted-activities.button-details{{/__}}
                </a>
                {{#isResortMode}}
                  <a href="{{basePath}}/{{accountId}}/activities/{{activity}}/categorise" class="resort-button"
                     data-test="activity-{{activity}}-move">
                    Move
                  </a>
                {{/isResortMode}}
              </span>
                </li>
              {{/activities}}
            </ul>
          </div>
        </details>
      {{/hasActivities}}
    {{/perCategory.NOTWORKED}}
  </section>

  <section data-test="category-NO" id="category-NO">
    <h3 class="heading-small category-heading" data-test="category">{{#__}}category.NO.title{{/__}}</h3>
    {{^perCategory.NO.hasActivities}}
      <p data-test="empty-message">{{#__}}sorted-activities.category-empty{{/__}}</p>
    {{/perCategory.NO.hasActivities}}
    {{#perCategory.NO}}
      {{#hasActivities}}
        <details {{#isExpanded}}open{{/isExpanded}}>
          <summary><span data-test="show-hide-text" class="summary">{{categoryIntroduction}}</span></summary>
          <div class="panel panel-border-narrow">
            <ul>
              {{#activities}}
                <li class="menu-container NO" data-test="activity-{{activity}}">
              <span class="menu-item not-selectable">
                <p>{{title}}</p>
                <a href="{{basePath}}/{{accountId}}/activities/{{activity}}?from={{action.mode}}"
                   class="button-secondary"
                   data-test="details-button">
                  {{#__}}sorted-activities.button-details{{/__}}
                </a>
                {{#isResortMode}}
                  <a href="{{basePath}}/{{accountId}}/activities/{{activity}}/categorise" class="resort-button"
                     data-test="activity-{{activity}}-move">
                    Move
                  </a>
                {{/isResortMode}}
              </span>
                </li>
              {{/activities}}
            </ul>
          </div>
        </details>
      {{/hasActivities}}
    {{/perCategory.NO}}
  </section>

</div>

{{/applicationContent}}
{{/layout}}
